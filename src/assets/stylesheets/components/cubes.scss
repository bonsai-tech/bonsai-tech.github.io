// Cubes

$cube-width: 216px;
$v-to-h: 113 / 190;
$cube-face-height: $cube-width * $v-to-h;
$cube-height: $cube-width * (154 / 116);
$cube-padding: $cube-width / 4;
$cube-padding-v: $cube-padding * $v-to-h;

.cube {
  $self: &;
  &-n,
  &-e,
  &-s,
  &-w {
    transition: transform $general-change;
    width: $cube-width;
    height: $cube-height;
    position: absolute;
  }
  &-n {
    top: 0;
    left: $cube-width / 2 + $cube-padding / 2;
    z-index: 1;
  }
  &-s {
    top: $cube-face-height + $cube-padding-v;
    left: $cube-width / 2 + $cube-padding / 2;
    z-index: 3;
  }
  &-e {
    top: $cube-face-height / 2 + $cube-padding-v / 2;
    left: $cube-width + $cube-padding;
    z-index: 2;
  }
  &-w {
    top: $cube-face-height / 2 + $cube-padding-v / 2;
    left: 0;
    z-index: 2;
  }
  &-skirt {
    position: absolute;
    top: 213px;
    left: 11px;
    min-width: 464px;
    // min-width: $cube-width * 2 + $cube-padding * 2;
    z-index: 10;
  }
  &-grid {
    margin-top: $cube-face-height * 0.65 + $cube-height / 2;
    position: relative;
    width: calc(#{$cube-width} * 2);
    height: calc(#{$cube-height} + 70px);

    .icon {
      z-index: 10;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: -4px;
    }

    &.activated {
      .icon {
        animation: appear-cube-icon 0.5s both;
      }
    }

    .icon {
      width: calc(#{$cube-width} / 2.2);
      opacity: 0.8;
    }

    &.is-north {
      &.activated {
        #{$self}-n {
          transform: translateY(-$cube-face-height * 0.65);
        }
      }
    }

    &.is-east {
      &.activated {
        #{$self}-e {
          transform: translateY(-$cube-face-height * 0.65);
        }
      }
    }

    &.is-south {
      &.activated {
        #{$self}-s {
          transform: translateY(-$cube-face-height * 0.65);
        }
      }
    }

    &.is-west {
      &.activated {
        #{$self}-w {
          transform: translateY(-$cube-face-height * 0.65);
        }
      }
    }
  }
}
